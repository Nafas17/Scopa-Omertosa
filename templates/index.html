<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üÉè Scopa Multiplayer</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

  <header>
    <h1>üÉè Scopa Multiplayer</h1>
    <div class="info">
      <p><b>Giocatore:</b> <span id="pid"></span></p>
      <p><b>Partita:</b> <span id="gid"></span></p>
      <p class="logout-link">
        <a href="#" onclick="logout()">Cambia nickname / Esci</a>
      </p>
    </div>
  </header>

  <main>
    <section class="status">
      <h2 id="turn" class="turn-wait">In attesa...</h2>
      <p id="gameover" class="game-over" hidden>Partita terminata</p>
    </section>

    <section class="opponent-section">
      <h3>Mano avversario (nascosta)</h3>
      <div id="opp_hand" class="board opponent"></div>
    </section>

    <section class="table-section">
      <h3>Tavolo</h3>
      <div id="table" class="board"></div>
    </section>

    <section class="player-section">
      <h3>La tua mano</h3>
      <div id="hand" class="board player-hand"></div>
    </section>

    <section class="scores">
      <h3>Punteggi parziali</h3>
      <div class="score-row">
        <div class="score-player">
          <strong>Tu</strong><br>
          Carte prese: <span id="taken_count">0</span><br>
          Scope: <span id="scopa">0</span>
        </div>
        <div class="score-player">
          <strong>Avversario</strong><br>
          Carte prese: <span id="opp_taken_count">0</span><br>
          Scope: <span id="opp_scopa">0</span>
        </div>
      </div>
    </section>
  </main>

  <script src="/static/game.js"></script>

  <script>
    // Funzione logout semplice (cancella localStorage e torna al login)
    function logout() {
      if (confirm("Vuoi davvero cambiare nickname o uscire?")) {
        localStorage.removeItem("player_id");
        localStorage.removeItem("username");
        window.location.href = "/login";
      }
    }
  </script>

</body>
</html>